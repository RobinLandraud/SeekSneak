{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
    {% if captcha == False %}
    <h1>Results for {{ query }}:</h1>
    <div class="container">
        <div class="container">
            <div class="row">
                <div class="col-xs-6">
                    <img src={{ searchedSX.image }} alt="Photo" style="width: auto;">
                </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item" style="font-size: 170%;">Name: {{ searchedSX.name }}</li>
                        <li class="list-group-item" style="font-size: 170%;">StyleID: {{ searchedSX.styleID }}</li>
                        <li class="list-group-item" style="font-size: 170%;">Color: {{ searchedSX.colorway }}</li>
                        <li class="list-group-item" style="font-size: 170%;">Gender: {{ searchedSX.gender }}</li>
                        <li class="list-group-item" style="font-size: 170%;">Year: {{ searchedSX.year }}</li>
                        <li class="list-group-item" style="font-size: 170%;">Sales Last 72 Hours on StockX:<br>{{ searchedSX.salesLast72Hours }}</li>
                    </ul>
                </div>
            </div>
        </div>
        <h2>StockX Informations:</h2>
        <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th>Size</th>
                <th>Last Sale</th>
                <th>Lowest Ask</th>
                <th>Highest Bid</th>
                <th>Volatility</th>
              </tr>
            </thead>
            <tbody>
                {% for size in searchedSX.sizes %}
                <tr>
                    <td>{{ size.size }}</td>
                    <td>{{ size.lastSale }}</td>
                    <td>{{ size.lowestAsk }}</td>
                    <td>{{ size.highestBid }}</td>
                    <td>{{ size.volatility }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <h2>Restocks Informations:</h2>
        <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th>Size</th>
                <th>Price</th>
                <th>Stock</th>
              </tr>
            </thead>
            <tbody>
                {% for size in searchedR.sizes %}
                {% if size.price != "?" %}
                <tr>
                    <td>{{ size.size }}</td>
                    <td>{{ size.price }}</td>
                    <td>{{ size.stock }}</td>
                </tr>
                {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <h1 align="center">Captcha detected !</h1>
    <h2 align="center">You have done too many requests to the API</h2>
    {% endif %}
{% endblock %}